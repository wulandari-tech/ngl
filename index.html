<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>share wanzofc</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Roboto+Mono:wght@400;700&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
    <style>
    /* --- CSS --- */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
        font-family: 'Roboto Mono', monospace;
        background: linear-gradient(to bottom, #0f0c29, #302b63, #24243e); /* Gradien lebih gelap */
        color: #fff;
        line-height: 1.6;
        overflow-x: hidden;
        padding-bottom: 50px;
        perspective: 1000px; /* Untuk efek 3D */
    }

    h1, h2 {
        font-family: 'Poppins', sans-serif;
        text-align: center;
        margin-bottom: 1rem;
        color: #00ffff;
        text-shadow: 0 0 15px rgba(0, 255, 255, 0.9); /* Glow lebih kuat */
        animation: neonGlow 2s ease-in-out infinite alternate; /* Animasi glow */
    }

    h1 {
        font-size: 2.5rem;
        margin-top: 2rem;
        margin-bottom: 2rem;
    }

    @keyframes neonGlow {
        from { text-shadow: 0 0 10px rgba(0, 255, 255, 0.8); }
        to { text-shadow: 0 0 20px rgba(0, 255, 255, 1), 0 0 30px rgba(0, 255, 255, 0.6); }
    }
     /* Efek Glitch (Optional) */
    .glitch {
        position: relative;
    }
    .glitch::before,
    .glitch::after {
        content: attr(data-text);
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        clip: rect(0, 0, 0, 0);
    }
    .glitch::before {
        left: -2px;
        text-shadow: 2px 0 red;
        animation: glitch-anim-before 2s infinite linear alternate-reverse;
    }
    .glitch::after {
      left: 2px;
        text-shadow: -2px 0 blue;
        animation: glitch-anim-after 1s infinite linear alternate-reverse;
    }

    @keyframes glitch-anim-before {
        0% { clip: rect(14px, 9999px, 9px, 0); transform: skewX(0deg); }
        25% { clip: rect(14px, 9999px, 100px, 0); transform: skewX(5deg); }
        50% { clip: rect(51px, 9999px, 29px, 0); transform: skewX(0deg); }
        75% { clip: rect(2px, 9999px, 86px, 0); transform: skewX(-5deg); }
        100% { clip: rect(68px, 9999px, 80px, 0); transform: skewX(0deg); }
    }
    @keyframes glitch-anim-after {
        0% { clip: rect(86px, 9999px, 99px, 0); transform: skewX(0deg); }
        25% { clip: rect(57px, 9999px, 27px, 0); transform: skewX(-5deg); }
        50% { clip: rect(98px, 9999px, 59px, 0); transform: skewX(0deg); }
        75% { clip: rect(85px, 9999px, 71px, 0); transform: skewX(5deg); }
        100% { clip: rect(83px, 9999px, 28px, 0); transform: skewX(0deg); }
    }
    #container-utama, #container-file {
        display: flex;
        flex-direction: column;
        gap: 2rem;
        padding: 20px;
        max-width: 900px;
        margin: 0 auto;
    }

    .kontainer-kode {
        background-color: rgba(255, 255, 255, 0.1);
        border: 1px solid rgba(0, 255, 255, 0.5);
        border-radius: 12px; /* Lebih melengkung */
        padding: 2rem; /* Padding lebih besar */
        position: relative;
        overflow: hidden;
        transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275), box-shadow 0.4s ease, background-color 0.4s ease; /* Transisi lebih smooth */
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.7), 0 0 0 1px rgba(0, 255, 255, 0.1); /* Multiple shadows */
        transform-style: preserve-3d; /* Penting untuk efek 3D */
        animation: fadeInUp 0.8s ease-out forwards; /* Animasi saat load */
        opacity: 0;
        transform: translateY(50px);
    }

    /* Animasi fadeInUp */
      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    /*Pseudo element untuk efek visual di container kode*/
      .kontainer-kode::before {
          content: '';
          position: absolute;
          top: -2px;
          left: -2px;
          right: -2px;
          bottom: -2px;
          border-radius: 12px;
           background: linear-gradient(45deg, rgba(0, 255, 255, 0.2), transparent, rgba(0, 255, 255, 0.2)); /* Efek cahaya */
          z-index: -1;
           pointer-events: none; /* Agar tidak menghalangi interaksi */
      }

    .kontainer-kode:hover {
        transform: translateY(-10px) translateZ(50px) scale(1.05); /* Efek 3D saat hover */
        box-shadow: 0 15px 40px rgba(0, 255, 255, 0.4), 0 0 0 1px rgba(0, 255, 255, 0.2); /* Bayangan lebih kuat */
        background-color: rgba(255, 255, 255, 0.15); /* Sedikit lebih terang */

    }

    .kontainer-kode pre {
        white-space: pre-wrap;
        word-wrap: break-word;
        font-size: 1rem; /* Sedikit lebih besar */
        color: #eee;
        line-height: 1.5; /* Sedikit lebih renggang */
        max-height: 150px;
        overflow: hidden;
        transition: max-height 0.5s ease;
         position: relative; /* Tambahkan ini */
          z-index: 1; /* Tambahkan ini */
    }

    .kontainer-kode.expanded pre {
        max-height: 1000px;
    }
     /* Style untuk highlight.js */
      .hljs {
          background: transparent; /* Hilangkan background dari highlight.js */
          padding: 0;
          border-radius: 8px;
            position: relative;

      }
      /*Efek Scanline (Optional) */
      .hljs-scanline {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 2px; /* Tebal garis */
           background: linear-gradient(to right, rgba(0, 255, 255, 0), rgba(0, 255, 255, 0.8), rgba(0, 255, 255, 0));
          animation: scanline 3s linear infinite;
            z-index: 10;
      }
        @keyframes scanline {
          0% { top: 0; }
          100% { top: 100%; } /* Sesuaikan dengan tinggi pre */
        }
      .kontainer-kode:hover .hljs-scanline{
        animation: scanline 0.5s linear infinite;
      }

    .kontainer-kode .tombol-copy {
        position: absolute;
        top: 15px;
        right: 50px; /* Beri jarak untuk tombol preview */
        background-color: #00ffff;
        color: #000;
        border: none;
        padding: 10px 15px; /* Padding lebih besar */
        border-radius: 6px;
        cursor: pointer;
        font-weight: bold;
        transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4); /* Tambahkan bayangan */
    }

    .kontainer-kode .tombol-copy:hover {
        background-color: #00d1d1;
        transform: scale(1.1); /* Sedikit membesar */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);
    }

    .kontainer-kode .judul-kode {
        font-size: 1.5rem;
        color: #00ffff;
        margin-bottom: 1rem;
        font-family: 'Orbitron', sans-serif; /* Font yang lebih futuristik */
        text-shadow: 0 0 8px rgba(0, 255, 255, 0.7);
    }
      /*Efek glassmorphism untuk container file dan kode */
      .kontainer-file, .kontainer-kode{
           background-color: rgba(255, 255, 255, 0.1); /* Lebih transparan */
            border-radius: 15px;
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37); /* Efek glassmorphism */
            backdrop-filter: blur(10px); /* Efek blur di belakang konten */
            -webkit-backdrop-filter: blur(10px); /* Untuk Safari */
            border: 1px solid rgba(255, 255, 255, 0.18); /* Border tipis */
      }

    .kontainer-file {
        /*(style kontainer-file yang relevan)*/
        padding: 2rem;
        margin-bottom: 1rem;
    }

    .kontainer-file:hover {
        transform: translateY(-10px) scale(1.05);
        box-shadow: 0 15px 40px rgba(0, 255, 255, 0.4), 0 0 0 1px rgba(0, 255, 255, 0.2);
    }
      .kontainer-file::before{
          content: '';
          position: absolute;
          top: -2px;
          left: -2px;
          right: -2px;
          bottom: -2px;
          border-radius: 15px;
           background: linear-gradient(45deg, rgba(0, 255, 255, 0.3), transparent, rgba(0, 255, 255, 0.3)); /* Efek cahaya */
          z-index: -1;
           pointer-events: none;
      }

    .kontainer-file .file-link {
        color: #00ffff;
        text-decoration: none;
        font-weight: bold;
        display: inline-block;
        transition: color 0.3s, transform 0.3s;
    }

    .kontainer-file .file-link::before {
        content: '\f019';
        font-family: 'Font Awesome 5 Free';
        font-weight: 900;
        margin-right: 8px;
    }

    .kontainer-file .file-link:hover {
        color: #00d1d1;
        transform: translateX(5px);
    }

    .kontainer-file .judul-file {
        font-size: 1.5rem;
        color: #00ffff;
        margin-bottom: 1rem;
         font-family: 'Orbitron', sans-serif; /* Font yang lebih futuristik */
        text-shadow: 0 0 8px rgba(0, 255, 255, 0.7);
    }

    #particles-js {
        position: fixed;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        z-index: -1;
    }

    .modal {
        display: none;
        position: fixed;
        z-index: 10;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.8);
    }

    .modal-konten {
      background-color: rgba(255, 255, 255, 0.1); /* Lebih transparan */
      border-radius: 15px;
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37); /* Efek glassmorphism */
      backdrop-filter: blur(10px); /* Efek blur di belakang konten */
      -webkit-backdrop-filter: blur(10px); /* Untuk Safari */
      border: 1px solid rgba(255, 255, 255, 0.18); /* Border tipis */
      margin: 10% auto;
      padding: 30px; /* Padding lebih besar */
      width: 80%;
      max-width: 800px;
      position: relative;
      transform-style: preserve-3d; /* Untuk efek 3D */

    }
        .modal-konten::before {  /* Efek border glow */
          content: '';
          position: absolute;
          top: -2px; left: -2px; right: -2px; bottom: -2px;
          z-index: -1;
           background: linear-gradient(45deg, #00ffff, transparent, #00ffff);
            background-size: 400% 400%;
          border-radius: 15px;
          animation: glowingBorder 5s linear infinite;
        }
        @keyframes glowingBorder {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }

    .modal-konten pre {
        white-space: pre-wrap;
        word-wrap: break-word;
        font-size: 1rem;
        color: #eee;
        line-height: 1.5;
    }

    .tutup-modal {
        color: #aaa;
        position: absolute;
        top: 15px;
        right: 20px; /* Lebih ke kanan */
        font-size: 32px; /* Lebih besar */
        font-weight: bold;
        cursor: pointer;
        transition: color 0.3s, transform 0.3s; /* Transisi */
    }

    .tutup-modal:hover,
    .tutup-modal:focus {
        color: #fff;
        text-decoration: none;
        transform: scale(1.2); /* Sedikit membesar */
    }

    .tombol-load-more {
        background-color: transparent;
        color: #00ffff;
        border: 2px solid #00ffff;
        padding: 10px 20px; /* Padding lebih besar */
        border-radius: 6px;
        cursor: pointer;
        transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
        display: block;
        margin: 10px auto 0;
        font-size: 1rem; /* Sedikit lebih besar */
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);
    }

    .tombol-load-more:hover {
        background-color: #00ffff;
        color: #000;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);
    }

    .judul-kode-modal,
    .judul-file-modal {
      font-size: 1.8rem; /* Lebih besar */
      color: #00ffff;
      margin-bottom: 1rem;
      border-bottom: 2px solid rgba(0, 255, 255, 0.5);
      padding-bottom: 0.5rem;
      font-family: 'Orbitron', sans-serif; /* Font yang lebih futuristik */
      text-shadow: 0 0 10px rgba(0, 255, 255, 0.8);
      animation: neonGlow 2s ease-in-out infinite alternate; /* Animasi glow */
    }

    .info-count {
      font-size: 0.9rem; /* Sedikit lebih besar */
      color: rgba(255, 255, 255, 0.8);
      margin-top: 0.5rem;
      display: flex;
      align-items: center;
      gap: 15px; /* Jarak lebih besar */
    }

    .copy-count,
    .download-count,
    .like-count,
    .comment-count {
        margin-left: 5px;
        display: flex;
        align-items: center;
        transition: transform 0.2s; /* Transisi untuk efek hover */
    }

    /* Efek hover pada ikon */
    .copy-count:hover,
    .download-count:hover,
    .like-count:hover,
    .comment-count:hover {
        transform: scale(1.1); /* Sedikit membesar */
    }

    .copy-count::before {
        content: '\f0c5';
        font-family: 'Font Awesome 5 Free';
        font-weight: 900;
        margin-right: 5px;
    }

    .download-count::before {
        content: '\f019';
        font-family: 'Font Awesome 5 Free';
        font-weight: 900;
        margin-right: 5px;
    }

    .like-count::before {
        content: '\f164';
        font-family: 'Font Awesome 5 Free';
        font-weight: 900;
        margin-right: 5px;
        cursor: pointer;
        transition: color 0.3s; /* Transisi warna */
    }

    .like-count.liked::before {
        color: red; /* Warna merah saat disukai */
    }

    .comment-count::before {
        content: '\f075';
        font-family: 'Font Awesome 5 Free';
        font-weight: 900;
        margin-right: 5px;
    }

    /* Style komentar */
    .komentar-container {
      margin-top: 1.5rem;
      padding-top: 1.5rem;
      border-top: 1px solid rgba(0, 255, 255, 0.3);
    }

    .komentar-item {
      margin-bottom: 1rem; /* Jarak lebih besar */
      padding: 1rem; /* Padding lebih besar */
      border-radius: 8px;
       background-color: rgba(255, 255, 255, 0.05);
      transition: background-color 0.3s, box-shadow 0.3s; /* Transisi */
       box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Bayangan */
    }
    .komentar-item:hover{
      background-color: rgba(255, 255, 255, 0.1);
       box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
    }

    .komentar-author {
        font-weight: bold;
        color: #00ffff;
        margin-bottom: 0.3rem; /* Jarak */
    }

    .komentar-text {
        color: #ddd;
        line-height: 1.4;
    }

    .komentar-form {
        margin-top: 1.5rem;
    }

    .komentar-form input[type="text"],
    .komentar-form textarea {
        width: 100%;
        padding: 12px; /* Padding lebih besar */
        margin-bottom: 15px;
        border-radius: 6px;
        border: 1px solid rgba(0, 255, 255, 0.5);
        background-color: rgba(255, 255, 255, 0.1);
        color: #fff;
        font-family: 'Roboto Mono', monospace;
        transition: border-color 0.3s, box-shadow 0.3s; /* Transisi */
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2); /* Bayangan */
    }

    .komentar-form input[type="text"]:focus,
    .komentar-form textarea:focus {
        border-color: #00ffff;
        box-shadow: 0 0 5px rgba(0, 255, 255, 0.7);
        outline: none;
    }

    .komentar-form button {
        background-color: #00ffff;
        color: #000;
        border: none;
        padding: 12px 20px;
        border-radius: 6px;
        cursor: pointer;
        font-weight: bold;
        transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);
    }

    .komentar-form button:hover {
        background-color: #00d1d1;
        transform: scale(1.05);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);
    }

    .file-preview {
        margin-top: 1.5rem;
        text-align: center;
    }

    .file-preview img {
        max-width: 100%;
        max-height: 200px;
        border-radius: 8px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6); /* Bayangan lebih kuat */
    }

    .file-preview a {
        color: #00ffff;
        text-decoration: none;
    }

    /* Tombol Share */
    .tombol-share {
        background-color: transparent;
        color: #00ffff;
        border: none;
        padding: 0;
        font-size: 1.2rem; /* Sedikit lebih besar */
        cursor: pointer;
        margin-left: 5px;
        display: flex;
        align-items: center;
        transition: color 0.3s, transform 0.3s; /* Transisi */
    }

    .tombol-share i {
        margin-right: 0;
    }

    .tombol-share:hover {
        color: #00d1d1;
        transform: scale(1.1); /* Sedikit membesar */
    }

    /* Modal Share */
    #modal-share {
        display: none;
        position: fixed;
        z-index: 100;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
    }

    #modal-share-konten {
        background-color: #222;
        color: #fff;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        padding: 25px; /* Padding lebih besar */
        border-radius: 8px;
        width: 80%;
        max-width: 500px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6); /* Bayangan */
    }
      #modal-share-konten::before {  /* Efek border glow */
        content: '';
        position: absolute;
        top: -2px; left: -2px; right: -2px; bottom: -2px;
        z-index: -1;
        background: linear-gradient(45deg, #00ffff, transparent, #00ffff);
        background-size: 400% 400%;
        border-radius: 15px;
        animation: glowingBorder 5s linear infinite;
      }
      @keyframes glowingBorder {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }

    #modal-share-konten .tutup-modal {
        color: #aaa;
        position: absolute;
        top: 15px;
        right: 20px;
        font-size: 32px;
        font-weight: bold;
        cursor: pointer;
         transition: color 0.3s, transform 0.3s;
    }
    #modal-share-konten .tutup-modal:hover{
      color: #fff;
        transform: scale(1.2);
    }

    #modal-share-konten input[type="text"] {
        width: calc(100% - 45px); /* Sesuaikan */
        padding: 12px;
        border: 1px solid #00ffff;
        background-color: transparent;
        color: #fff;
        font-family: 'Roboto Mono', monospace;
        border-radius: 6px;
        margin-right: 0;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
    }

    #modal-share-konten .tombol-copy-url {
      background-color: transparent;
      color: #00ffff;
      border: none;
      padding: 0;
      font-size: 1rem;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 40px; /* Sesuaikan */
      height: 43px; /* Sesuaikan */
      margin-left: 0px;
       transition: color 0.3s, transform 0.3s;
    }

    #modal-share-url-container {
        display: flex;
        align-items: center;
    }

    #modal-share-konten .tombol-copy-url:hover {
        color: #00d1d1;
        transform: scale(1.1);
    }

    #modal-share-konten h3 {
      margin-top: 0;
      margin-bottom: 15px; /* Jarak lebih besar */
      color: #00ffff;
      font-family: 'Orbitron', sans-serif; /* Font futuristik */
      text-shadow: 0 0 10px rgba(0, 255, 255, 0.8);
    }
     #modal-share-konten p {
        margin-bottom: 15px;
        color: #fff;
        font-size: 1rem; /* Sedikit lebih besar */
    }

          /* Detail Kode */
    #detail-kode-container {
      max-width: 800px;
      margin: 2rem auto;
      padding: 25px;
      background-color: rgba(255, 255, 255, 0.1); /* Lebih transparan */
      border-radius: 15px;
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37); /* Efek glassmorphism */
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
      transform-style: preserve-3d; /* Untuk efek 3D */
       transition: transform 0.4s ease, box-shadow 0.4s ease;
    }

    #detail-kode-container::before {  /* Efek border glow */
      content: '';
      position: absolute;
      top: -2px; left: -2px; right: -2px; bottom: -2px;
      z-index: -1;
       background: linear-gradient(45deg, #00ffff, transparent, #00ffff);
      background-size: 400% 400%;
      border-radius: 15px;
      animation: glowingBorder 5s linear infinite;
    }

    #detail-kode-container:hover{
      transform: translateY(-10px) translateZ(50px) scale(1.05); /* Efek 3D saat hover */
        box-shadow: 0 15px 40px rgba(0, 255, 255, 0.4), 0 0 0 1px rgba(0, 255, 255, 0.2);
    }

    #detail-kode-container .judul-kode {
        font-size: 1.8rem;
        color: #00ffff;
        margin-bottom: 1.5rem;
         font-family: 'Orbitron', sans-serif;
        text-shadow: 0 0 12px rgba(0, 255, 255, 0.9);
        animation: neonGlow 2s ease-in-out infinite alternate;
    }

       #detail-kode-container pre {
        white-space: pre-wrap;
        word-wrap: break-word;
        font-size: 1.1rem;
        color: #eee;
        line-height: 1.6;
         position: relative; /* Penting untuk ::before */
    }

    #detail-kode-container .info-count {
        margin-top: 1.5rem;
    }

      #detail-kode-container .komentar-container {
        margin-top: 2rem; /* Jarak lebih besar */
    }


    #kembali-ke-list {
      display: flex;
      margin: auto;
      align-items: center;
      justify-content: center;
      background-color: transparent;
      color: #00ffff;
      border: 2px solid #00ffff;
      padding: 12px 25px; /* Padding lebih besar */
      border-radius: 8px;
      transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);
      font-size: 1.1rem; /* Sedikit lebih besar */
    }

    #kembali-ke-list:hover {
      background-color: #00ffff;
      color: #000;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);
    }

    /* Tombol Request dan Donasi */

    .tombol-request,
    .tombol-donasi {
        position: fixed;
        background-color: #00ffff;
        color: #000;
        border: none;
        padding: 10px 15px;
        border-radius: 8px; /* Lebih melengkung */
        cursor: pointer;
        font-weight: bold;
        transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
        z-index: 1000;
        box-shadow: 0 3px 6px rgba(0, 0, 0, 0.5); /* Bayangan */
        font-size: 1rem;
    }
    .tombol-request{
      top: 10px;
      right: 10px;
    }
    .tombol-donasi{
      top: 10px;
      left: 10px;
    }

    .tombol-request:hover,
    .tombol-donasi:hover {
        background-color: #00d1d1;
        transform: scale(1.1);
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.7);
    }

    .tombol-request i,
    .tombol-donasi i {
        margin-right: 8px; /* Jarak ikon */
    }

    /* Modal Donasi */
    #modal-donasi {
      display: none;
      position: fixed;
      z-index: 1001;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      }

    #modal-donasi-konten {
      background-color: #222;
      color: #fff;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 25px;
      border-radius: 8px;
      width: 80%;
      max-width: 500px;
      text-align: center;
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.6);
      }
        #modal-donasi-konten::before {  /* Efek border glow */
        content: '';
        position: absolute;
        top: -2px; left: -2px; right: -2px; bottom: -2px;
        z-index: -1;
         background: linear-gradient(45deg, #00ffff, transparent, #00ffff);
        background-size: 400% 400%;
        border-radius: 15px;
        animation: glowingBorder 5s linear infinite;
      }


    #modal-donasi-konten .tutup-modal {
      color: #aaa;
      position: absolute;
      top: 15px;
      right: 20px;
      font-size: 32px;
      font-weight: bold;
      cursor: pointer;
      transition: color 0.3s, transform 0.3s;
    }
    #modal-donasi-konten .tutup-modal:hover{
      color:#fff;
      transform: scale(1.2);
    }

    #modal-donasi-konten h3 {
      margin-top: 0;
      margin-bottom: 15px;
      color: #00ffff;
      font-family: 'Orbitron', sans-serif;
      text-shadow: 0 0 10px rgba(0, 255, 255, 0.8);
    }

    #modal-donasi-konten p {
      margin-bottom: 15px;
      color: #fff;
      font-size: 1.1rem;
    }

    #modal-donasi-konten .input-group {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
    }

    #modal-donasi-konten input[type="text"] {
        flex: 1;
        padding: 12px;
        border: 1px solid #00ffff;
        background-color: transparent;
        color: #fff;
        font-family: 'Roboto Mono', monospace;
        border-radius: 6px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
    }

    #modal-donasi-konten .tombol-salin {
      background-color: #00ffff;
      color: #000;
      border: none;
      padding: 12px 20px;
      border-radius: 6px;
      cursor: pointer;
      margin-left: 10px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);
    }

    #modal-donasi-konten .tombol-salin i {
        margin-right: 8px;
    }

    #modal-donasi-konten .tombol-salin:hover {
        background-color: #00d1d1;
        transform: scale(1.1);
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);
    }

    .judul-file-download {
        font-size: 1.8rem;
         font-family: 'Orbitron', sans-serif;
        text-shadow: 0 0 12px rgba(0, 255, 255, 0.9);
        animation: neonGlow 2s ease-in-out infinite alternate;
        margin-bottom: 1rem;
    }
      /*Style untuk kontainer detail file */
    #detail-file-container{
      max-width: 800px;
      margin: 2rem auto;
      padding: 25px;
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.18);
      transform-style: preserve-3d;
      transition: transform 0.4s ease, box-shadow 0.4s ease;
    }
    #detail-file-container::before{
      content: '';
      position: absolute;
      top: -2px; left: -2px; right: -2px; bottom: -2px;
      z-index: -1;
       background: linear-gradient(45deg, #00ffff, transparent, #00ffff);
      background-size: 400% 400%;
      border-radius: 15px;
      animation: glowingBorder 5s linear infinite;
    }
    #detail-file-container:hover{
      transform: translateY(-10px) translateZ(50px) scale(1.05);
      box-shadow: 0 15px 40px rgba(0, 255, 255, 0.4), 0 0 0 1px rgba(0, 255, 255, 0.2);
    }
      #download-link {
        display: inline-block; /* Make the link a block element */
        margin: 20px 0; /* Add some margin for spacing */
        text-align: center; /* Center the button inside the link */
    }

    #download-link button {
        background-color: #00ffff;
        color: #000;
        border: none;
        padding: 15px 30px; /* Larger padding */
        border-radius: 10px; /* More rounded corners */
        cursor: pointer;
        font-weight: bold;
        font-size: 1.2rem;
        transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);
        display: block; /* Make button fill container */
        width: 100%; /* Take up full width */

    }

    #download-link button:hover {
        background-color: #00d1d1;
        transform: scale(1.05);
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.7);
    }
     #kembali-ke-list-file {
        display: flex;
        margin: auto;
        align-items: center;
        justify-content: center;
        background-color: transparent;
        color: #00ffff;
        border: 2px solid #00ffff;
        padding: 12px 25px; /* Padding lebih besar */
        border-radius: 8px;
        transition: background-color 0.3s, color 0.3s, box-shadow 0.3s;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);
        font-size: 1.1rem;
    }

    #kembali-ke-list-file:hover {
        background-color: #00ffff;
        color: #000;
        cursor: pointer;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.6);
    }

    </style>
</head>
<body>
    <div id="particles-js"></div>

    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loading-spinner"></div>
        <div id="loading-progress">
            <div id="progress-bar"></div>
            <div id="progress-text">0%</div>
        </div>
    </div>

    <!-- SweetAlert untuk Selamat Datang -->
    <div id="welcome-alert" class="modal">
        <div class="modal-konten">
            <h2>Selamat Datang!</h2>
            <p>Selamat datang di website share code by wanzofc</p>
            <button id="welcome-ok-button">Oke</button>
        </div>
    </div>


    <button class="tombol-request" onclick="window.location.href='https://wanzofc-ai.biz.id'">
        <i class="fas fa-inbox"></i> REQ
    </button>
    <button class="tombol-donasi"><i class="fas fa-wallet"></i>PAY</button>
    <div id="modal-donasi" class="modal">
        <div id="modal-donasi-konten">
            <span class="tutup-modal">×</span>
            <h3>Donasi via DANA</h3>
            <p>Nomor DANA:</p>
            <div class="input-group">
                <input type="text" id="nomor-dana" value="0895402567224" readonly>
                <button class="tombol-salin"><i class="fas fa-copy"></i>Salin</button>
            </div>
        </div>
    </div>
    <div id="detail-kode-container" style="display: none;">
        <h2 class="judul-kode"></h2>
        <pre></pre>
        <div class="info-count">
        </div>
        <div class="komentar-container">
        </div>
         <button id="kembali-ke-list">Kembali</button>
    </div>
     <!-- Kontainer untuk detail file -->
    <div id="detail-file-container" style="display: none;">
        <h2 class="judul-file-download"></h2>
        <div class="info-count">
            <!-- Info count untuk file (like, dll.) -->
        </div>
          <a id="download-link" href="#" download>
              <button>Download File</button> <!-- Tombol Download -->
          </a>
        <div class="komentar-container">
            <!-- Komentar untuk file -->
        </div>
        <button id="kembali-ke-list-file">Kembali</button>
    </div>

    <div id='konten-utama'>
      <h1 class="glitch" data-text="TEMPLATE HTML">TEMPLATE HTML</h1>
      <div id="container-utama"></div>
      <h1 class="glitch" data-text="FOR FILE">FOR FILE</h1>
      <div id="container-file"></div>
    </div>
    <div id="modal-kode" class="modal">
        <div class="modal-konten">
            <span class="tutup-modal">×</span>
             <h2 class="judul-kode-modal"></h2>
            <pre><code class="hljs"></code></pre>
        </div>
    </div>
    <div id="modal-share" class="modal">
        <div id="modal-share-konten">
          <span class="tutup-modal">×</span>
            <h3>share kode ini</h3>
            <p>salin url dibawah ini:</p>
            <div id="modal-share-url-container">
              <input type="text" id="modal-share-url" readonly>
              <button class="tombol-copy-url"><i class="fas fa-copy"></i></button>
            </div>
        </div>
 </div>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
      particlesJS("particles-js", { "particles": { "number": { "value": 80, "density": { "enable": true, "value_area": 800 } }, "color": { "value": "#00ffff" }, "shape": { "type": "circle", "stroke": { "width": 0, "color": "#000000" }, }, "opacity": { "value": 0.7, "random": true, "anim": { "enable": true, "speed": 1, "opacity_min": 0.1, "sync": false } }, "size": { "value": 4, "random": true, "anim": { "enable": true, "speed": 3, "size_min": 0.1, "sync": false } }, "line_linked": { "enable": true, "distance": 150, "color": "#00ffff", "opacity": 0.4, "width": 3 }, "move": { "enable": true, "speed": 2, "direction": "none", "random": true, "straight": false, "out_mode": "out", "bounce": false, } }, "interactivity": { "detect_on": "canvas", "events": { "onhover": { "enable": true, "mode": "repulse" }, "onclick": { "enable": false, "mode": "push" }, "resize": true }, "modes": { "repulse": { "distance": 100, "duration": 0.4 } } }, "retina_detect": true });
      const modal = document.getElementById('modal-kode');
      const tutupModal = document.querySelector('.tutup-modal');
      const modalPre = document.querySelector('#modal-kode pre');
      const judulModal = document.querySelector('#modal-kode .judul-kode-modal');

        // Modal donasi
      const modalDonasi = document.getElementById('modal-donasi');
      const tombolDonasi = document.querySelector('.tombol-donasi');
      const tutupModalDonasi = document.querySelector('#modal-donasi .tutup-modal');
      const tombolSalin = document.querySelector('.tombol-salin');
      const nomorDanaInput = document.getElementById('nomor-dana');

      tombolDonasi.addEventListener('click', () => {
          modalDonasi.style.display = 'block';
      });

      tutupModalDonasi.addEventListener('click', () => {
          modalDonasi.style.display = 'none';
      });

      tombolSalin.addEventListener('click', () => {
          nomorDanaInput.select();
          document.execCommand('copy');
          gsap.to(tombolSalin, { duration: 0.2, scale: 1.1, yoyo: true, repeat: 1 });
          alert('Nomor DANA berhasil disalin!');
      });
        //tutup modal donasi
       window.addEventListener('click', (event) => {
        if (event.target.classList.contains('modal')) {
          event.target.style.display = 'none';
        }
      });


      function tutupModalHandler(modalElement) {
          modalElement.style.display = 'none';
      }

      document.querySelectorAll('.tutup-modal').forEach(button => {
          button.addEventListener('click', () => {
              tutupModalHandler(button.closest('.modal'));
          });
      });


      function slugify(text) {
        return text.toString().toLowerCase()
          .replace(/\s+/g, '-')
          .replace(/[^\w\-]+/g, '')
          .replace(/\-\-+/g, '-')
          .replace(/^-+/, '')
          .replace(/-+$/, '');
      }

      async function tampilkanDetailKode(id, slug) {
          try {
              const response = await fetch(`/api/kode/${id}/share`);
              if (!response.ok) {
                const errorData = await response.json();
                throw new Error(errorData.message || 'Gagal mengambil detail kode.');
              }
              const { shareUrl } = await response.json();
              const urlParts = shareUrl.split('/');
              const fetchedId = urlParts[urlParts.length - 2];
              const fetchedSlug = urlParts[urlParts.length - 1];

              const detailResponse = await fetch(`/kode/${fetchedId}/${fetchedSlug}`);
                if (!detailResponse.ok) {
                  const errorData = await detailResponse.json();
                  throw new Error(errorData.message || 'Gagal mengambil detail kode.');
                }
                const kodeItem = await detailResponse.json();

              document.getElementById('konten-utama').style.display = 'none';
              const detailContainer = document.getElementById('detail-kode-container');
              detailContainer.style.display = 'block';

              detailContainer.querySelector('.judul-kode').textContent = kodeItem.judul;
              const pre = detailContainer.querySelector('pre');
              pre.textContent = kodeItem.kode;
              hljs.highlightElement(pre);
              addScanlineToContainer(pre); // Tambahkan scanline


              const infoCount = detailContainer.querySelector('.info-count');
              infoCount.innerHTML = `
                  <span class="copy-count"><i class="fas fa-copy"></i> ${kodeItem.copyCount}</span>
                  <span class="like-count"><i class="fas fa-thumbs-up"></i> ${kodeItem.likes}</span>
                  <span class="comment-count"><i class="fas fa-comments"></i> ${kodeItem.comments.length}</span>
              `;

              const komentarContainer = detailContainer.querySelector('.komentar-container');
              komentarContainer.innerHTML = '';

              const komentarList = document.createElement('div');
                komentarList.classList.add('komentar-list');
                komentarContainer.appendChild(komentarList);

                const komentarForm = document.createElement('form');
                komentarForm.classList.add('komentar-form');
                komentarForm.innerHTML = `
                    <input type="text" name="author" placeholder="Nama Anda" required>
                    <textarea name="text" placeholder="Komentar Anda" required></textarea>
                    <button type="submit">Kirim Komentar</button>
                `;

                komentarForm.addEventListener('submit', async (event) => {
                    event.preventDefault();
                    const author = komentarForm.elements.author.value;
                    const text = komentarForm.elements.text.value;
                    if (!author || !text) {
                      alert("Nama dan Komentar Harus Di isi");
                      return;
                    }

                    try {
                        const response = await fetch(`/api/kode/${kodeItem.id}/comments`, {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/json' },
                            body: JSON.stringify({ author, text }),
                        });
                        if (response.ok) {
                            const newComment = await response.json();
                            tampilkanKomentar(newComment, komentarList);
                            komentarForm.reset();
                            detailContainer.querySelector('.comment-count').textContent =  parseInt(detailContainer.querySelector('.comment-count').textContent) + 1;

                        } else {
                          const errorData = await response.json();
                          alert(errorData.message || "Gagal mengirim komentar")
                        }
                    } catch (error) {
                        console.error('Error:', error);
                        alert('Terjadi kesalahan saat mengirim komentar.');
                    }
                });
                komentarContainer.appendChild(komentarForm);

                function tampilkanKomentar(comment, container) {
                  const komentarItem = document.createElement('div');
                  komentarItem.classList.add('komentar-item');
                  komentarItem.innerHTML = `
                      <p class="komentar-author">${comment.author}</p>
                      <p class="komentar-text">${comment.text}</p>
                  `;
                  container.appendChild(komentarItem);
                }

                async function ambilKomentar(kodeId, container) {
                  try {
                      const response = await fetch(`/api/kode/${kodeId}/comments`);
                      if (response.ok) {
                          const comments = await response.json();
                          comments.forEach(comment => tampilkanKomentar(comment, container));
                      } else {
                        const errorData = await response.json();
                        throw new Error(errorData.message || 'Gagal mengambil komentar.');

                      }
                  } catch (error) {
                      console.error('Error:', error);
                  }
                }

                ambilKomentar(kodeItem.id, komentarList);


          } catch (error) {
              console.error('Gagal menampilkan detail kode:', error);
              alert('Gagal menampilkan detail kode.');
          }
      }

      function buatKontainerKode(item) {
        const containerUtama = document.getElementById('container-utama');
        const kontainerKode = document.createElement('div');
        kontainerKode.classList.add('kontainer-kode');

        const judul = document.createElement('h2');
        judul.textContent = item.judul;
        judul.classList.add('judul-kode');
        kontainerKode.appendChild(judul);

        const pre = document.createElement('pre');
        const code = document.createElement('code');
        code.textContent = item.kode;
        pre.appendChild(code);
        kontainerKode.appendChild(pre);
        hljs.highlightElement(code);
        addScanlineToContainer(pre); // Tambahkan scanline


        if (item.kode.length > 200) {
            const tombolLoadMore = document.createElement('button');
            tombolLoadMore.textContent = 'Load More';
            tombolLoadMore.classList.add('tombol-load-more');
            tombolLoadMore.addEventListener('click', () => {
              modalPre.innerHTML = ''; // Kosongkan modalPre
              const modalCode = document.createElement('code');
              modalCode.textContent = item.kode;
              modalPre.appendChild(modalCode);
              hljs.highlightElement(modalCode);
              addScanlineToContainer(modalPre); // Tambahkan scanline ke modal
              judulModal.textContent = item.judul;
              modal.style.display = 'block';
            });
            kontainerKode.appendChild(tombolLoadMore);
        }

        const tombolCopy = document.createElement('button');
        tombolCopy.textContent = 'Copy';
        tombolCopy.classList.add('tombol-copy');
        tombolCopy.addEventListener('click', async () => {
            try {
                await navigator.clipboard.writeText(item.kode);
                                gsap.to(tombolCopy, { duration: 0.2, scale: 1.1, yoyo: true, repeat: 1 });
                alert('Kode berhasil disalin!');

                const response = await fetch(`/api/kode/${item.id}/copy`, { method: 'POST' });
                if (response.ok) {
                    const data = await response.json();
                    const copyCountEl = kontainerKode.querySelector('.copy-count');
                    if (copyCountEl) { copyCountEl.textContent = data.copyCount; }
                } else {
                  const errorData = await response.json();
                                    alert(errorData.message || 'Gagal menyalin kode.');
                }
            } catch (err) {
                console.error('Gagal menyalin:', err);
            }
        });
        kontainerKode.appendChild(tombolCopy);

        const infoCount = document.createElement('div');
        infoCount.classList.add('info-count');

        const copyCount = document.createElement('span');
        copyCount.classList.add('copy-count');
        copyCount.textContent = item.copyCount;
        infoCount.appendChild(copyCount);

        const likeCount = document.createElement('span');
        likeCount.classList.add('like-count');
        likeCount.textContent = item.likes;

        if (item.likedBy && item.likedBy.includes(getUserIP())) {
            likeCount.classList.add('liked');
        }

        likeCount.addEventListener('click', async () => {
            try {
                const response = await fetch(`/api/kode/${item.id}/like`, { method: 'POST' });
                if (response.ok) {
                    const data = await response.json();
                    likeCount.textContent = data.likes;
                    if (data.liked) { likeCount.classList.add('liked'); }
                    else { likeCount.classList.remove('liked'); }
                } else {
                  const errorData = await response.json();
                  alert(errorData.message || 'Gagal menyukai kode.');
                }
            } catch (error) {
                console.error('Gagal like:', error);
            }
        });
        infoCount.appendChild(likeCount);

        const commentCount = document.createElement('span');
        commentCount.classList.add('comment-count');
        commentCount.textContent = item.comments.length;
        infoCount.appendChild(commentCount);

        const tombolShare = document.createElement('button');
        tombolShare.classList.add('tombol-share');
        tombolShare.innerHTML = '<i class="fas fa-share"></i>';
        tombolShare.addEventListener('click', async () => {
          try {
            const response = await fetch(`/api/kode/${item.id}/share`);
              if (!response.ok) {
                const errorData = await response.json();
                throw new Error(errorData.message || "Gagal Generate Link");
              }
              const { shareUrl } = await response.json();

                const modalShare = document.getElementById('modal-share');
                const modalShareUrlInput = document.getElementById('modal-share-url');
                modalShareUrlInput.value = shareUrl;
                modalShare.style.display = 'block';

                document.querySelector('#modal-share .tombol-copy-url').onclick = () => {
                  modalShareUrlInput.select();
                  document.execCommand('copy');
                  gsap.to(document.querySelector('#modal-share .tombol-copy-url'), { duration: 0.2, scale: 1.1, yoyo: true, repeat: 1 });
                  alert('URL berhasil disalin!');
                };


          }  catch (error) {
              console.error('Gagal mendapatkan URL share:', error);
              alert("Gagal Generate Link Share")
          }
      });
        infoCount.appendChild(tombolShare);
        kontainerKode.appendChild(infoCount);

        const komentarContainer = document.createElement('div');
        komentarContainer.classList.add('komentar-container');

        const komentarList = document.createElement('div');
        komentarList.classList.add('komentar-list');
        komentarContainer.appendChild(komentarList);

        const komentarForm = document.createElement('form');
        komentarForm.classList.add('komentar-form');
        komentarForm.innerHTML = `
            <input type="text" name="author" placeholder="Nama Anda" required>
            <textarea name="text" placeholder="Komentar Anda" required></textarea>
            <button type="submit">Kirim Komentar</button>
        `;
        komentarForm.addEventListener('submit', async (event) => {
            event.preventDefault();
            const author = komentarForm.elements.author.value;
            const text = komentarForm.elements.text.value;

            if (!author || !text) {
              alert("Nama dan Komentar Harus Di isi");
              return;
            }

            try {
                const response = await fetch(`/api/kode/${item.id}/comments`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ author, text }),
                });
                if (response.ok) {
                    const newComment = await response.json();
                    tampilkanKomentar(newComment, komentarList);
                    komentarForm.reset();
                    commentCount.textContent = parseInt(commentCount.textContent) + 1;
                } else {
                                        const errorData = await response.json();
                    alert(errorData.message || "Gagal mengirim komentar");
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Terjadi kesalahan saat mengirim komentar.');
            }
        });
        komentarContainer.appendChild(komentarForm);

        function tampilkanKomentar(comment, container) {
          const komentarItem = document.createElement('div');
          komentarItem.classList.add('komentar-item');
          komentarItem.innerHTML = `
              <p class="komentar-author">${comment.author}</p>
              <p class="komentar-text">${comment.text}</p>
          `;
          container.appendChild(komentarItem);
        }

        async function ambilKomentar(kodeId, container) {
          try {
              const response = await fetch(`/api/kode/${kodeId}/comments`);
              if (response.ok) {
                  const comments = await response.json();
                  comments.forEach(comment => tampilkanKomentar(comment, container));
              } else {
                const errorData = await response.json();
                throw new Error(errorData.message || 'Gagal mengambil komentar.');

              }
          } catch (error) {
              console.error('Error:', error);
          }
        }

        ambilKomentar(item.id, komentarList);

        kontainerKode.appendChild(komentarContainer);

        containerUtama.appendChild(kontainerKode);
        gsap.from(kontainerKode, { duration: 0.5, opacity: 0, y: 50, ease: "power2.out" });
        }

        async function ambilDataKode() {
        try {
            const response = await fetch('/api/kode');
            if (!response.ok) {
                const errorData = await response.json();
                throw new Error(errorData.message || `HTTP error! status: ${response.status}`);
            }
            const data = await response.json();
            data.sort((a, b) => b.timestamp - a.timestamp);
            data.forEach(item => { buatKontainerKode(item); });
        } catch (error) {
            console.error('Gagal mengambil data:', error);
            alert('Terjadi kesalahan: ' + error.message);
        }
        }

    // --- FILE HANDLING ---

    function buatKontainerFile(item) {
        const containerFile = document.getElementById('container-file');
        const kontainerFile = document.createElement('div');
        kontainerFile.classList.add('kontainer-file');

        const judulFile = document.createElement('h2');
        judulFile.textContent = item.filename; // Use filename as title
        judulFile.classList.add('judul-file');
        kontainerFile.appendChild(judulFile);



      const fileLink = document.createElement('a');
      fileLink.textContent = item.filename; //  nama file
      fileLink.classList.add('file-link');

      //  download link
      fileLink.href = `/download/${item.id}/${item.slug}`; // URL untuk download
      fileLink.setAttribute('download', item.filename); //  download attribute


      kontainerFile.appendChild(fileLink);



        const infoCount = document.createElement('div');
        infoCount.classList.add('info-count');

        const likeCount = document.createElement('span');
        likeCount.classList.add('like-count');
        likeCount.textContent = item.likes;

        if (item.likedBy && item.likedBy.includes(getUserIP())) {
            likeCount.classList.add('liked');
        }

        likeCount.addEventListener('click', async () => {
            try {
                const response = await fetch(`/api/files/${item.id}/like`, { method: 'POST' });
                if (response.ok) {
                    const data = await response.json();
                    likeCount.textContent = data.likes;
                    if (data.liked) {
                        likeCount.classList.add('liked');
                    } else {
                        likeCount.classList.remove('liked');
                    }
                } else {
                    const errorData = await response.json();
                    alert(errorData.message || "Gagal Like File");
                }
            } catch (error) {
                console.error('Gagal like:', error);
            }
        });
        infoCount.appendChild(likeCount);

        const tombolShare = document.createElement('button');
        tombolShare.classList.add('tombol-share');
        tombolShare.innerHTML = '<i class="fas fa-share"></i>';
        tombolShare.addEventListener('click', async () => {
            try {
                const response = await fetch(`/api/files/${item.id}/share`);
                if (!response.ok) {
                    const errorData = await response.json();
                    throw new Error(errorData.message || 'Gagal mendapatkan URL share.');
                }
                const { shareUrl } = await response.json();

                const modalShare = document.getElementById('modal-share');
                const modalShareUrlInput = document.getElementById('modal-share-url');
                modalShareUrlInput.value = shareUrl;
                modalShare.style.display = 'block';

                document.querySelector('#modal-share .tombol-copy-url').onclick = () => {
                    modalShareUrlInput.select();
                    document.execCommand('copy');
                    gsap.to(document.querySelector('#modal-share .tombol-copy-url'), { duration: 0.2, scale: 1.1, yoyo: true, repeat: 1, });
                    alert('URL berhasil disalin!');
                };
            } catch (error) {
                console.error('Gagal mendapatkan URL share:', error);
                alert('Terjadi kesalahan.');
            }
        });

      const komentarContainer = document.createElement('div');
      komentarContainer.classList.add('komentar-container');

      const komentarList = document.createElement('div'); // Container for comments
      komentarList.classList.add('komentar-list');
      komentarContainer.appendChild(komentarList);

      const komentarForm = document.createElement('form');
      komentarForm.classList.add('komentar-form');
      komentarForm.innerHTML = `
                <input type="text" name="author" placeholder="Nama Anda" required>
                <textarea name="text" placeholder="Komentar Anda" required></textarea>
                <button type="submit">Kirim Komentar</button>
            `;

        //  submit event untuk form komentar
      komentarForm.addEventListener('submit', async (event) => {
        event.preventDefault();
        const author = komentarForm.elements.author.value;
        const text = komentarForm.elements.text.value;

        if (!author || !text) {
          alert("Nama dan Komentar harus diisi!");
          return; // Stop jika field kosong
        }

        try {
          const response = await fetch(`/api/files/${item.id}/comments`, {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
            },
            body: JSON.stringify({ author, text }),
          });

          if (response.ok) {
            const newComment = await response.json();
             tampilkanKomentarFile(newComment, komentarList); // Tampilkan komentar
            komentarForm.reset(); // Reset form

            //  update comment count (optional)
           // const commentCount = kontainerFile.querySelector('.comment-count'); // Asumsi ada elemen .comment-count
           // if(commentCount) commentCount.textContent = parseInt(commentCount.textContent || 0) + 1;

          } else {
            const errorData = await response.json();
            alert(errorData.message || "Gagal mengirim komentar");
          }
        } catch (error) {
          console.error('Error:', error);
          alert('Terjadi kesalahan saat mengirim komentar.');
        }
      });
      komentarContainer.appendChild(komentarForm);


      // Fungsi untuk menampilkan komentar
      function tampilkanKomentarFile(comment, container) {
        const komentarItem = document.createElement('div');
        komentarItem.classList.add('komentar-item');
        komentarItem.innerHTML = `
                    <p class="komentar-author">${comment.author}</p>
                    <p class="komentar-text">${comment.text}</p>
                `;
        container.appendChild(komentarItem); // Append ke container
      }

        //  ambil komentar
        async function ambilKomentarFile(fileId, container) {
            try{
                const response = await fetch(`/api/files/${fileId}/comments`);
                if(response.ok){
                    const comments = await response.json();
                    comments.forEach(comment => tampilkanKomentarFile(comment, container));
                } else {
                    const errorData = await response.json();
                    alert(errorData.message || 'gagal mengambil komentar');
                }

            } catch(error){
                console.error(error);
                alert('Terjadi Error saat load komentar');
            }
        }

      ambilKomentarFile(item.id, komentarList); // Panggil fungsi untuk mengambil komentar

        infoCount.appendChild(tombolShare);
        kontainerFile.appendChild(infoCount);
        kontainerFile.appendChild(komentarContainer); // Add comment section

        containerFile.appendChild(kontainerFile);


        gsap.from(kontainerFile, { duration: 0.5, opacity: 0, y: 50, ease: "power2.out", delay: 0.2 });
        }

      async function tampilkanDetailFile(id, slug) {
          try {
            const response = await fetch(`/api/files/${id}/share`);
              if(!response.ok){
                const errorData = await response.json();
                throw new Error(errorData.message || 'Gagal mengambil detail file.');
              }
              const {shareUrl} = await response.json();
              const urlParts = shareUrl.split('/');
              const fetchedId = urlParts[urlParts.length - 2];
              const fetchedSlug = urlParts[urlParts.length - 1];

              const detailResponse = await fetch(`/files/${fetchedId}/${fetchedSlug}`);
              if(!detailResponse.ok) {
                const errorData = await detailResponse.json();
                throw new Error(errorData.message || 'Gagal Load File');
              }

              const fileItem = await detailResponse.json();

              document.getElementById('konten-utama').style.display = 'none';
              const detailContainer = document.getElementById('detail-file-container');
              detailContainer.style.display = 'block';

              // Set judul file
              detailContainer.querySelector('.judul-file-download').textContent = fileItem.filename;

              // Update info count (likes, dll) -  contoh, sesuaikan
              const infoCount = detailContainer.querySelector('.info-count');
              infoCount.innerHTML = `
                    <span class="like-count"><i class="fas fa-thumbs-up"></i> ${fileItem.likes}</span>
                    <span class="download-count"><i class="fas fa-download"></i> ${fileItem.downloadCount || 0}</span>
                `; // Tambahkan download count

              //  link download
              const downloadLink = document.getElementById('download-link');
              downloadLink.href = `/download/${fileItem.id}/${fileItem.slug}`; // Gunakan endpoint /download
              downloadLink.download = fileItem.filename;


              //  komentar
              const komentarContainer = detailContainer.querySelector('.komentar-container');
              komentarContainer.innerHTML = '';  // Kosongkan

              const komentarList = document.createElement('div');
              komentarList.classList.add('komentar-list');
              komentarContainer.appendChild(komentarList);

              const komentarForm = document.createElement('form');
              komentarForm.classList.add('komentar-form');
              komentarForm.innerHTML = `
                    <input type="text" name="author" placeholder="Nama Anda" required>
                    <textarea name="text" placeholder="Komentar Anda" required></textarea>
                    <button type="submit">Kirim Komentar</button>
                `;
                komentarForm.addEventListener('submit', async (event) => {
                event.preventDefault();
                const author = komentarForm.elements.author.value;
                const text = komentarForm.elements.text.value;
                if (!author || !text) {
                    alert("Nama dan Komentar Harus Di isi");
                    return;
                }
                try {
                    const response = await fetch(`/api/files/${fileItem.id}/comments`, { // Gunakan fileItem.id
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ author, text }),
                    });

                    if (response.ok) {
                        const newComment = await response.json();
                        tampilkanKomentarFile(newComment, komentarList);
                        komentarForm.reset();
                    } else {
                         const errorData = await response.json();
                         alert(errorData.message || 'Gagal Mengirim komentar.');
                    }

                  } catch(error){
                      console.error(error);
                      alert('Terjadi error saat mengirim komentar.');
                  }
                });
                komentarContainer.appendChild(komentarForm);


                //  ambil komentar
              async function ambilKomentarFile(fileId, container) {
                  try {
                      const response = await fetch(`/api/files/${fileId}/comments`); // Gunakan fileId (bukan kodeId)
                      if (response.ok) {
                          const comments = await response.json();
                          comments.forEach(comment => tampilkanKomentarFile(comment, container));
                      } else {
                          const errorData = await response.json();
                          throw new Error(errorData.message || 'Gagal mengambil komentar file.');
                      }
                  } catch (error) {
                      console.error('Error:', error);
                  }
              }
              ambilKomentarFile(fileItem.id, komentarList); // Gunakan fileItem.id


          } catch(error) {
              console.error('Gagal Load Detail file', error);
              alert('Gagal Load Detail File');
          }
      }



        async function ambilDataFile() {
            try {
                const response = await fetch('/api/files');
                if (!response.ok) {
                  const errorData = await response.json();
                  throw new Error(errorData.message || `HTTP error! status: ${response.status}`);

                }
                const data = await response.json();
                data.sort((a, b) => b.timestamp - a.timestamp);
                data.forEach(item => { buatKontainerFile(item); });
            } catch (error) {
                console.error('Gagal mengambil data:', error);
                alert('Terjadi kesalahan: ' + error.message);

            }
        }

        function getUserIP() {
        return '127.0.0.1';
        }

        //Fungsi untuk menambahkan efek scanline
        function addScanlineToContainer(container) {
            const scanline = document.createElement('div');
            scanline.classList.add('hljs-scanline');
            container.appendChild(scanline);
        }

      function cekUrlDanTampilkanDetail() {
        const path = window.location.pathname;
        const parts = path.split('/');

        if (parts.length === 4) {
            if (parts[1] === 'kode') {
                const id = parseInt(parts[2], 10);
                const slug = parts[3];
                if (!isNaN(id)) {
                    tampilkanDetailKode(id, slug);
                    return;
                }
            } else if (parts[1] === 'files') { //  untuk files
                const id = parseInt(parts[2], 10);
                const slug = parts[3];
                if (!isNaN(id)) {
                    tampilkanDetailFile(id, slug); // Panggil tampilkanDetailFile
                    return;
                }
            }
        }

        //  default, tampilkan list
        ambilDataKode();
        ambilDataFile();
    }


    document.addEventListener('DOMContentLoaded', () => {
        cekUrlDanTampilkanDetail();

        const kembaliKeListButton = document.getElementById('kembali-ke-list');
        if (kembaliKeListButton) {
            kembaliKeListButton.addEventListener('click', () => {
                document.getElementById('detail-kode-container').style.display = 'none';
                 document.getElementById('detail-file-container').style.display = 'none'; // Sembunyikan detail file
                document.getElementById('konten-utama').style.display = 'block';
                history.pushState(null, null, '/');
                ambilDataKode();
                ambilDataFile();
            });
        }

        //  event listener untuk tombol "Kembali" pada detail file
        const kembaliKeListFileButton = document.getElementById('kembali-ke-list-file');
        if (kembaliKeListFileButton) {
            kembaliKeListFileButton.addEventListener('click', () => {
                document.getElementById('detail-file-container').style.display = 'none'; // Sembunyikan detail
                document.getElementById('detail-kode-container').style.display = 'none';
                document.getElementById('konten-utama').style.display = 'block'; // Tampilkan konten utama
                 history.pushState(null, null, '/');
                ambilDataKode();
                ambilDataFile();
            });
        }
    });

    </script>
</body>
</html>
